# üìã –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ô –ê–£–î–ò–¢ –ò –†–ï–§–ê–ö–¢–û–†–ò–ù–ì login.jsx

## –ò—Ç–æ–≥–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### ‚úÖ –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û

#### 1Ô∏è‚É£ **–°–æ–∑–¥–∞–Ω Custom Hook `useAuthLogin`** (`/hooks/useAuthLogin.js`)

- ‚ú® **AbortController –≤–º–µ—Å—Ç–æ isMountedRef** ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ç–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- üõ°Ô∏è **–î–µ–±–∞—É–Ω—Å –Ω–∞ 300ms** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–≥–æ —Ñ–ª–∞–≥–∞)
- üìä**–í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–¥–µ–ª–µ–Ω–∞** ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `authValidation.js`
- üßπ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞** ‚Äî –≤—Å–µ —Ç–∞–π–º–∞—É—Ç—ã –∏ AbortController –æ—Ç–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ unmount
- üìù **JSDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** ‚Äî –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∞

#### 2Ô∏è‚É£ **–°–æ–∑–¥–∞–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏** (`/lib/authValidation.js`)

- üìè –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (MIN_LENGTH, MAX_LENGTH –∏ —Ç.–¥.)
- üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ email –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º RFC
- üìã `getEmailValidationError()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úã –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –ª–µ–≥–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

#### 3Ô∏è‚É£ **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ Supabase** (`/lib/supabaseAuthErrors.js`)

- üéØ `mapSupabaseAuthError()` ‚Äî –º–∞–ø–ø–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ –Ω–∞ –∫–æ–¥—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- üìö –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–¥—ã Supabase (`status`, `message`)
- ü™µ `logAuthError()` ‚Äî –ª–æ–≥–∏—Ä—É–µ—Ç —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- üö´ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–µ–∫—Å—Ç–æ–≤ –æ—à–∏–±–æ–∫ (–∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è)

#### 4Ô∏è‚É£ **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `login.jsx`**

- üßπ –£–¥–∞–ª–µ–Ω—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ helpers)
- üßπ –£–¥–∞–ª–µ–Ω—ã –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ)
- ‚ú® Hook `useAuthLogin` –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –≤—Å—é —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É
- ‚ú® Hook `useTranslation` –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ `t()` (—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞)
- üé® –ß–∏—Å—Ç—ã–π UI –∫–æ–¥, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (component —Ç–æ–ª—å–∫–æ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç)

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –ü—Ä–æ–±–ª–µ–º–∞ #1: isMountedRef (–∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω)

```javascript
// ‚ùå –î–û
const isMountedRef = useRef(true);
useEffect(() => {
  return () => {
    isMountedRef.current = false;
  };
}, []);
// ... –ø–æ—Ç–æ–º –≤ –∫–æ–¥–µ
if (!isMountedRef.current) return;
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

- –° React 18 —ç—Ç–æ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- –ö–æ–¥ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø—Ä–æ—Å—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
- –ù–µ —Ä–µ—à–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É ‚Äî –æ—Ç–º–µ–Ω—É –∑–∞–ø—Ä–æ—Å–∞

```javascript
// ‚úÖ –ü–û–°–õ–ï
const abortControllerRef = useRef(null);

useEffect(() => {
  return () => {
    abortControllerRef.current?.abort();
  };
}, []);

// –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ:
abortControllerRef.current?.abort();
abortControllerRef.current = new AbortController();
// –ó–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω, –Ω–æ catch-–±–ª–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç AbortError
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ #2: –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ (–ø—Ä–∏–º–∏—Ç–∏–≤–Ω–∞—è)

```javascript
// ‚ùå –î–û
const loginAttemptRef = useRef(0);
loginAttemptRef.current += 1;
if (loginAttemptRef.current > 1) return;
```

**–ü—Ä–æ–±–ª–µ–º—ã:**

- –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–µ—Ä–≤—ã–π –∫–ª–∏–∫
- –ù–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å–ø–µ—Ö–µ (–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—à–∏–±–∫—É)
- –ù–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏

```javascript
// ‚úÖ –ü–û–°–õ–ï (–¥–µ–±–∞—É–Ω—Å –≤–º–µ—Å—Ç–æ —Å–ø–∞–º–∞)
const loginTimeoutRef = useRef(null);

const handleLogin = useCallback(() => {
  if (!canSubmit) return;

  // –û—Ç–º–µ–Ω—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä
  if (loginTimeoutRef.current) {
    clearTimeout(loginTimeoutRef.current);
  }

  // –î–µ–±–∞—É–Ω—Å 300ms
  loginTimeoutRef.current = setTimeout(() => {
    performLogin(email.trim(), password);
  }, 300);
}, [canSubmit, email, password]);
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–µ–±–∞—É–Ω—Å–∞:**

- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –±—ã—Å—Ç—Ä—ã—Ö –∫–ª–∏–∫–æ–≤
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª (300ms)
- –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –ª—é–±–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Ç–æ–ø–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö)

---

### –ü—Ä–æ–±–ª–µ–º–∞ #3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ Supabase (—Ö—Ä—É–ø–∫–∞—è)

```javascript
// ‚ùå –î–û
if (authErr.message?.includes('Invalid login credentials')) {
  errorKey = AUTH_ERRORS.INVALID_CREDENTIALS;
} else if (authErr.message?.includes('Network')) {
  errorKey = AUTH_ERRORS.NETWORK_ERROR;
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**

- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–µ–∫—Å—Ç–∞ –æ—à–∏–±–∫–∏ (–º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ Supabase)
- –ù–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ –æ—à–∏–±–∫–∏
- `includes()` –º–æ–∂–µ—Ç –¥–∞—Ç—å false positives
- `authErr.message` –º–æ–∂–µ—Ç –±—ã—Ç—å undefined

```javascript
// ‚úÖ –ü–û–°–õ–ï
export function mapSupabaseAuthError(error) {
  // –ò—Å–ø–æ–ª—å–∑—É–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–¥—ã Supabase
  if (error?.status === 401 || error?.message?.includes('Invalid login credentials')) {
    return AUTH_ERRORS.INVALID_CREDENTIALS;
  }
  if (error?.status === 429 || error?.message?.includes('too many')) {
    return AUTH_ERRORS.TOO_MANY_REQUESTS;
  }
  // ... –∏ —Ç.–¥.
  return AUTH_ERRORS.AUTH_ERROR;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const errorKey = mapSupabaseAuthError(authErr);
const errorMessage = t(errorKey, AUTH_ERROR_MESSAGES[errorKey]);
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ #4: Email –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–∞—è)

```javascript
// ‚ùå –î–û
const isValidEmail = (email) => {
  const trimmed = email.trim();
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(trimmed) && trimmed.length <= 254;
};
```

**–ü—Ä–æ–±–ª–µ–º—ã:**

- –ü—Ä–æ–ø—É—Å—Ç–∏—Ç email –≤—Ä–æ–¥–µ `a@b..com` (–ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Ç–æ—á–∫–∏)
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã
- –ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ—á–µ–º—É email –Ω–µ–≤–∞–ª–∏–¥–µ–Ω)

```javascript
// ‚úÖ –ü–û–°–õ–ï
export function isValidEmail(email) {
  if (typeof email !== 'string') return false;

  const trimmed = email.trim().toLowerCase();
  const { MIN_LENGTH, MAX_LENGTH, PATTERN } = AUTH_CONSTRAINTS.EMAIL;

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü
  if (trimmed.length < MIN_LENGTH || trimmed.length > MAX_LENGTH) {
    return false;
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞
  if (!PATTERN.test(trimmed)) {
    return false;
  }

  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
  if (trimmed.includes('..')) {
    return false; // –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Ç–æ—á–∫–∏ –∑–∞–ø—Ä–µ—â–µ–Ω—ã
  }

  return true;
}

// –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
export function getEmailValidationError(email) {
  // ... –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏
}
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ #5: –ü–∞—Ä–æ–ª—å –±–µ–∑ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã

```javascript
// ‚ùå –î–û
const passwordValid = password.length >= 1;
```

```javascript
// ‚úÖ –ü–û–°–õ–ï
const MIN_PASSWORD_LENGTH = 8; // –∏–ª–∏ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ config
const passwordValid = password.length >= MIN_PASSWORD_LENGTH;
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ #6: i18n –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è

```javascript
// ‚ùå –î–û
import { t } from '../../src/i18n';
// –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ù–ï —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —Å–º–µ–Ω—É —è–∑—ã–∫–∞
```

```javascript
// ‚úÖ –ü–û–°–õ–ï
import { useTranslation } from '../../src/i18n/useTranslation';

function LoginScreenContent() {
  const { t } = useTranslation();
  // –¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è
  return <Text>{t('login_title', '–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É')}</Text>;
}
```

---

## üìä –°–¢–†–£–ö–¢–£–†–ê –ù–û–í–´–• –§–ê–ô–õ–û–í

```
lib/
  ‚îú‚îÄ‚îÄ authValidation.js       ‚ú® –ù–æ–≤–æ–µ - –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
  ‚îú‚îÄ‚îÄ supabaseAuthErrors.js   ‚ú® –ù–æ–≤–æ–µ - –º–∞–ø–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
  ‚îî‚îÄ‚îÄ supabase.js             (—É–∂–µ –µ—Å—Ç—å)

hooks/
  ‚îî‚îÄ‚îÄ useAuthLogin.js         ‚ú® –ù–æ–≤–æ–µ - –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

app/(auth)/
  ‚îî‚îÄ‚îÄ login.jsx               üîÑ –û—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç hooks
```

---

## üéØ –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ï –ü–†–ê–ö–¢–ò–ö–ò

### 1Ô∏è‚É£ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç** - —Ç–æ–ª—å–∫–æ UI (render)
- **Hook** - –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞ (state, side effects)
- **Lib** - —É—Ç–∏–ª–∏—Ç—ã –∏ –ø–æ–º–æ—â–Ω–∏–∫–∏ (validation, mapping)

### 2Ô∏è‚É£ –ó–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

- ‚úÖ AbortController –≤–º–µ—Å—Ç–æ —Ñ–ª–∞–≥–æ–≤
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Ç–∞–π–º–∞—É—Ç–æ–≤ –ø—Ä–∏ unmount
- ‚úÖ –û—Ç–ø–∏—Å–∫–∞ –æ—Ç —Å–æ–±—ã—Ç–∏–π

### 3Ô∏è‚É£ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

- ‚úÖ –î–µ–±–∞—É–Ω—Å –ø—Ä–æ—Ç–∏–≤ —Å–ø–∞–º–∞ (–≤–º–µ—Å—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–ª–∞–≥–∞)
- ‚úÖ –û—Ç–º–µ–Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏ –Ω–æ–≤–æ–º
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### 4Ô∏è‚É£ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å

- ‚úÖ –í—Å–µ –º–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- ‚úÖ JSDoc –¥–ª—è –∫–∞–∂–¥–æ–π –ø—É–±–ª–∏—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω—è—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å

### 5Ô∏è‚É£ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏

---

## üöÄ –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞

```javascript
import { isValidEmail, getEmailValidationError } from '../../lib/authValidation';

// –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
if (!isValidEmail(userInput)) {
  console.log('Email –Ω–µ–≤–∞–ª–∏–¥–µ–Ω');
}

// –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ - —É–∑–Ω–∞—Ç—å, –ø–æ—á–µ–º—É –Ω–µ–≤–∞–ª–∏–¥–µ–Ω
const reason = getEmailValidationError(userInput);
logger.warn('Email validation failed:', reason);
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞–ø–ø–µ—Ä–∞ –æ—à–∏–±–æ–∫

```javascript
import { mapSupabaseAuthError } from '../../lib/supabaseAuthErrors';

const { error } = await supabase.auth.signInWithPassword(...);
if (error) {
  const errorKey = mapSupabaseAuthError(error);
  const message = t(errorKey, AUTH_ERROR_MESSAGES[errorKey]);
  setError(message);
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—É–∫–∞

```javascript
import { useAuthLogin } from '../../hooks/useAuthLogin';

function LoginScreen() {
  const { email, setEmail, password, setPassword, error, loading, canSubmit, handleLogin } =
    useAuthLogin();

  return (
    <>
      <Input value={email} onChangeText={setEmail} />
      <Input value={password} onChangeText={setPassword} />
      <Button onPress={handleLogin} disabled={!canSubmit} />
      {error && <Text>{error}</Text>}
    </>
  );
}
```

---

## ‚ú® –ò–¢–û–ì–û–í–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

| –ê—Å–ø–µ–∫—Ç              | –î–æ                       | –ü–æ—Å–ª–µ                       |
| ------------------- | ------------------------ | --------------------------- |
| **–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏**   | isMountedRef (–Ω–µ–Ω–∞–¥–µ–∂–Ω–æ) | AbortController ‚úÖ          |
| **–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞** | –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–π —Ñ–ª–∞–≥         | –î–µ–±–∞—É–Ω—Å ‚úÖ                  |
| **–û—à–∏–±–∫–∏ Supabase** | includes() (—Ö—Ä—É–ø–∫–æ)      | status + –∫–æ–¥ –æ—à–∏–±–∫–∏ ‚úÖ      |
| **Email –≤–∞–ª–∏–¥–∞—Ü–∏—è** | –ü—Ä–æ—Å—Ç–æ–π regex            | RFC compliant + –∫–æ–Ω—Ç–µ–∫—Å—Ç ‚úÖ |
| **i18n**            | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è      | –†–µ–∞–∫—Ç–∏–≤–Ω—ã–π hook ‚úÖ          |
| **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**       | –í—Å—ë –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ        | –†–∞–∑–¥–µ–ª–µ–Ω–æ –ø–æ –º–æ–¥—É–ª—è–º ‚úÖ     |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**    | –ù–∏–∫–∞–∫–æ–π                  | JSDoc –≤–µ–∑–¥–µ ‚úÖ              |
| **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**   | –°–ª–æ–∂–Ω–æ                   | –õ–µ–≥–∫–æ (hooks, utils) ‚úÖ     |

---

## üìö –°–°–´–õ–ö–ò –ù–ê –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Æ

- [React Hooks - Cleaning up an effect](https://react.dev/reference/react/useEffect#cleanup-function)
- [AbortController MDN](https://developer.mozilla.org/en-US/docs/Web/API/AbortController)
- [Debounce Pattern](https://en.wikipedia.org/wiki/Debouncing)
- [Email validation RFC 5321](https://datatracker.ietf.org/doc/html/rfc5321)
- [Supabase Auth Error Handling](https://supabase.com/docs/guides/auth/auth-hooks)

---

**–ö–æ–¥ —Ç–µ–ø–µ—Ä—å –Ω–∞ —É—Ä–æ–≤–Ω–µ production-ready –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π!** üéâ
