# –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (`lib/cache/DataCache.js`)

- **TTL (Time To Live)**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Stale-While-Revalidate**: –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –≤ —Ñ–æ–Ω–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞**: –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- **–ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º**: –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø–æ –º–∞—Å–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `users:*`)
- **–ì–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä**: –û–¥–∏–Ω –∫—ç—à –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 2. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ö—É–∫ `useQueryWithCache` (`components/hooks/useQueryWithCache.js`)

- ‚úÖ **Stale-While-Revalidate —Å—Ç—Ä–∞—Ç–µ–≥–∏—è**
- ‚úÖ **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤**: –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —É–∂–µ –∏–¥–µ—Ç, –≤—Ç–æ—Ä–æ–π –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry**: 3 –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **Pull-to-refresh**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ **–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: —á–µ—Ä–µ–∑ `mutate()`
- ‚úÖ **Realtime –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Supabase
- ‚úÖ **Placeholder data**: –ü–æ–∫–∞–∑ –¥–∞–Ω–Ω—ã—Ö –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏

### 3. –°–∏—Å—Ç–µ–º–∞ Realtime —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (`components/hooks/useRealtimeSync.js`)

- ‚úÖ **–£–º–Ω–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—É = –æ–¥–∏–Ω –∫–∞–Ω–∞–ª
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞**: –û—Ç–ø–∏—Å–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- ‚úÖ **–ú—É–ª—å—Ç–∏-—Ç–∞–±–ª–∏—Ü–∞**: `useMultiTableSync` –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü —Å—Ä–∞–∑—É
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞**: –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –ë–î

### 4. –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ö—É–∫–∏

- ‚úÖ **`useUsers`**: –î–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ø–∏—Å–∫–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **`useDepartments`**: –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—Ç–¥–µ–ª–∞–º–∏

### 5. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

- ‚úÖ **users/index.jsx**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –Ω–∞ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
  - –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞—Ö–æ–¥–µ
  - Pull-to-refresh —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
  - –ú–µ–Ω—å—à–µ –∫–æ–¥–∞ –Ω–∞ ~150 —Å—Ç—Ä–æ–∫

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)

```javascript
import { useUsers } from '../../components/hooks/useUsers';

function MyComponent() {
  const { users, isLoading, isRefreshing, refresh } = useUsers({
    filters: { roles: ['admin'], suspended: false },
  });

  return (
    <FlatList
      data={users}
      refreshControl={<RefreshControl refreshing={isRefreshing} onRefresh={refresh} />}
    />
  );
}
```

### –ü—Ä–∏–º–µ—Ä —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º

```javascript
import { useQueryWithCache } from '../../components/hooks/useQueryWithCache';
import { supabase } from '../../lib/supabase';

function OrderDetails({ orderId }) {
  const {
    data: order,
    isLoading,
    refresh,
  } = useQueryWithCache({
    queryKey: `order:${orderId}`,
    queryFn: async () => {
      const { data, error } = await supabase.from('orders').select('*').eq('id', orderId).single();
      if (error) throw error;
      return data;
    },
    ttl: 5 * 60 * 1000, // 5 –º–∏–Ω—É—Ç
    enabled: !!orderId,
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Realtime
    enableRealtime: true,
    realtimeTable: 'orders',
    supabaseClient: supabase,
  });

  if (isLoading) return <Loader />;

  return <OrderCard order={order} />;
}
```

### –ü—Ä–∏–º–µ—Ä —Å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏

```javascript
function UserProfile() {
  const {
    data: profile,
    mutate,
    refresh,
  } = useQueryWithCache({
    queryKey: 'myProfile',
    queryFn: fetchMyProfile,
  });

  const updateName = async (newName) => {
    // –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ - —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
    mutate((prev) => ({ ...prev, name: newName }));

    try {
      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î
      await supabase.from('profiles').update({ name: newName }).eq('id', profile.id);
    } catch (error) {
      // –ü—Ä–∏ –æ—à–∏–±–∫–µ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
      refresh();
    }
  };

  return <ProfileForm profile={profile} onUpdate={updateName} />;
}
```

### –ü—Ä–∏–º–µ—Ä —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏

```javascript
import { useMultiTableSync } from '../../components/hooks/useRealtimeSync';

function Dashboard() {
  const { users, refresh: refreshUsers } = useUsers();
  const { orders, refresh: refreshOrders } = useOrders();

  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü
  useMultiTableSync({
    supabaseClient: supabase,
    tables: [
      { table: 'profiles', queryKey: 'users', onUpdate: refreshUsers },
      { table: 'orders', queryKey: 'orders', onUpdate: refreshOrders },
    ],
  });

  return <DashboardView users={users} orders={orders} />;
}
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ TTL

```javascript
// –ß–∞—Å—Ç–æ –º–µ–Ω—è—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ
ttl: 1 * 60 * 1000; // 1 –º–∏–Ω—É—Ç–∞ - –∑–∞–∫–∞–∑—ã, —Å–æ–æ–±—â–µ–Ω–∏—è

// –û–±—ã—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
ttl: 5 * 60 * 1000; // 5 –º–∏–Ω—É—Ç - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø—Ä–æ—Ñ–∏–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

// –†–µ–¥–∫–æ –º–µ–Ω—è—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ
ttl: 15 * 60 * 1000; // 15 –º–∏–Ω—É—Ç - –æ—Ç–¥–µ–ª—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

// –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
ttl: 30 * 60 * 1000; // 30 –º–∏–Ω—É—Ç - —Ä–æ–ª–∏, —Ç–∏–ø—ã —Ä–∞–±–æ—Ç

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
ttl: 60 * 60 * 1000; // 1 —á–∞—Å - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –ø–µ—Ä–µ–≤–æ–¥—ã
```

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚ùå –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞—Ö–æ–¥–µ: ~1-2 —Å–µ–∫—É–Ω–¥—ã
- ‚ùå –ú–µ—Ä—Ü–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚ùå Realtime –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ –æ—á–∏—â–∞—é—Ç—Å—è ‚Üí —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
- ‚ùå –ù–µ—Ç retry –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–µ—Ç–∏

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∫—ç—à–∞: 0ms
- ‚úÖ –ü–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –±–µ–∑ –º–µ—Ä—Ü–∞–Ω–∏—è
- ‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è: –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –≤–º–µ—Å—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫
- ‚úÖ –£–º–Ω—ã–π retry —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- ‚úÖ –§–æ–Ω–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI

## üîß API Reference

### `useQueryWithCache(options)`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `queryKey` (string): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –∫—ç—à–∞
- `queryFn` (async function): –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- `ttl` (number): –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞ –≤ –º—Å (default: 5 –º–∏–Ω—É—Ç)
- `enabled` (boolean): –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∑–∞–ø—Ä–æ—Å (default: true)
- `retry` (number): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ (default: 3)
- `retryDelay` (number): –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ –≤ –º—Å (default: 1000)
- `onSuccess` (function): Callback –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
- `onError` (function): Callback –ø—Ä–∏ –æ—à–∏–±–∫–µ
- `placeholderData` (any): –î–∞–Ω–Ω—ã–µ –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏
- `enableRealtime` (boolean): –í–∫–ª—é—á–∏—Ç—å Realtime —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
- `realtimeTable` (string): –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è Realtime
- `supabaseClient` (object): –≠–∫–∑–µ–º–ø–ª—è—Ä Supabase –∫–ª–∏–µ–Ω—Ç–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

- `data`: –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `isLoading`: –ò–¥–µ—Ç –ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ)
- `isRefreshing`: –ò–¥–µ—Ç –ª–∏ refresh (pull-to-refresh)
- `isFetching`: –ò–¥–µ—Ç –ª–∏ —Ñ–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- `error`: –û–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- `refresh`: –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `refetch`: –ê–ª–∏–∞—Å –¥–ª—è `refresh`
- `mutate`: –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- `invalidate`: –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à–∞

### `useRealtimeSync(options)`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `supabaseClient` (object): –≠–∫–∑–µ–º–ø–ª—è—Ä Supabase –∫–ª–∏–µ–Ω—Ç–∞
- `table` (string): –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
- `queryKey` (string): –ö–ª—é—á –∫—ç—à–∞ –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `onUpdate` (function): Callback –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- `channel` (string): –ò–º—è –∫–∞–Ω–∞–ª–∞ (optional)
- `enabled` (boolean): –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
- `events` (array): –ú–∞—Å—Å–∏–≤ —Å–æ–±—ã—Ç–∏–π ['INSERT', 'UPDATE', 'DELETE', '*']

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### DO ‚úÖ

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useQueryWithCache` –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
- –í–∫–ª—é—á–∞—Ç—å –≤ `queryKey` –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –¥–∞–Ω–Ω—ã–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Realtime –¥–ª—è —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å TTL –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —á–∞—Å—Ç–æ—Ç—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `mutate()` –¥–ª—è –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### DON'T ‚ùå

- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ `queryKey` –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–µ –∑–∞–±—ã–≤–∞—Ç—å –ø—Ä–æ `enabled` –¥–ª—è —É—Å–ª–æ–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π TTL (< 30 —Å–µ–∫—É–Ω–¥)
- –ù–µ –¥–µ–ª–∞—Ç—å —Ä—É—á–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ Realtime (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö—É–∫–∏)
- –ù–µ –∑–∞–±—ã–≤–∞—Ç—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å `isLoading` —Å–æ—Å—Ç–æ—è–Ω–∏–µ

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫—ç—à–∞

```javascript
import { globalCache } from '../lib/cache/DataCache';

// –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
console.log(globalCache.getStats());
// { total: 15, fresh: 10, stale: 5 }

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
const cached = globalCache.get('users');
console.log(cached);
// { data: [...], isStale: false, timestamp: 1234567890, age: 30000 }

// –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
globalCache.clear();
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

```javascript
const { data } = useQueryWithCache({
  queryKey: 'myData',
  queryFn: fetchData,
  onSuccess: (data) => {
    console.log('Data loaded:', data);
  },
  onError: (error) => {
    console.error('Load error:', error);
  },
});
```

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∫ –¥—Ä—É–≥–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º —Å–º. `OPTIMIZATION_GUIDE.md`

---

**–°–æ–∑–¥–∞–Ω–æ:** 14 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready
