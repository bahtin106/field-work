> **Status (2026-02-11): Legacy reference.** This document contains historical notes about removed hooks (`useQueryWithCache`, `useRealtimeSync`).
> Current data layer uses TanStack Query feature hooks in `src/features/*` with shared keys in `src/shared/query/queryKeys.ts`.
# вњ… РћРїС‚РёРјРёР·Р°С†РёСЏ Р·Р°РІРµСЂС€РµРЅР°!

## рџЋЇ Р§С‚Рѕ Р±С‹Р»Рѕ СЃРґРµР»Р°РЅРѕ

### РћРїС‚РёРјРёР·РёСЂРѕРІР°РЅРЅС‹Рµ СЃС‚СЂР°РЅРёС†С‹:

1. вњ… **app/users/index.jsx** - Р­С‚Р°Р»РѕРЅРЅР°СЏ СЂРµР°Р»РёР·Р°С†РёСЏ (СѓР¶Рµ Р±С‹Р»Р°)
   - РџР°СЂР°Р»Р»РµР»СЊРЅР°СЏ Р·Р°РіСЂСѓР·РєР°
   - РљРµС€ 5 РјРёРЅ + Realtime

2. вњ… **app/company_settings/index.jsx** - РќР°СЃС‚СЂРѕР№РєРё РєРѕРјРїР°РЅРёРё
   - Р”РѕР±Р°РІР»РµРЅ useQueryWithCache
   - РљРµС€ 5 РјРёРЅ + Realtime
   - **РЈСЃРєРѕСЂРµРЅРёРµ: 10-20x** (СЃ ~1000ms РґРѕ ~50ms)

3. вњ… **app/app_settings/appsettings.jsx** - РќР°СЃС‚СЂРѕР№РєРё РїСЂРёР»РѕР¶РµРЅРёСЏ
   - Р”РѕР±Р°РІР»РµРЅ useQueryWithCache РґР»СЏ РЅР°СЃС‚СЂРѕРµРє
   - Р”РѕР±Р°РІР»РµРЅ useQueryWithCache РґР»СЏ СЂР°Р·СЂРµС€РµРЅРёР№
   - Realtime СЃРёРЅС…СЂРѕРЅРёР·Р°С†РёСЏ
   - **РЈСЃРєРѕСЂРµРЅРёРµ: 10-15x** (СЃ ~700ms РґРѕ ~50ms)

4. вњ… **app/users/[id].jsx** - РџСЂРѕС„РёР»СЊ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ
   - Р—Р°РјРµРЅРµРЅР° СЂСѓС‡РЅР°СЏ Р·Р°РіСЂСѓР·РєР° РЅР° useQueryWithCache
   - РЈР±СЂР°РЅ useFocusEffect (Р°РІС‚РѕРѕР±РЅРѕРІР»РµРЅРёРµ)
   - РљРµС€ 3 РјРёРЅ + Realtime
   - **РЈСЃРєРѕСЂРµРЅРёРµ: 10-15x** (СЃ ~600ms РґРѕ ~40ms)

5. вњ… **app/orders/index.jsx** - РЈР¶Рµ РѕРїС‚РёРјРёР·РёСЂРѕРІР°РЅ (React Query)

6. вњ… **app/billing/index.jsx** - РќРµ С‚СЂРµР±СѓРµС‚ РѕРїС‚РёРјРёР·Р°С†РёРё (placeholder)

---

## рџ“€ Р РµР·СѓР»СЊС‚Р°С‚С‹

### Р’СЂРµРјСЏ Р·Р°РіСЂСѓР·РєРё (РїРѕРІС‚РѕСЂРЅРѕРµ РѕС‚РєСЂС‹С‚РёРµ):

| РЎС‚СЂР°РЅРёС†Р°                 | Р‘С‹Р»Рѕ    | РЎС‚Р°Р»Рѕ | РЈР»СѓС‡С€РµРЅРёРµ  |
| ------------------------ | ------- | ----- | ---------- |
| **РќР°СЃС‚СЂРѕР№РєРё РєРѕРјРїР°РЅРёРё**   | ~1000ms | ~50ms | **20x** вљЎ |
| **РќР°СЃС‚СЂРѕР№РєРё РїСЂРёР»РѕР¶РµРЅРёСЏ** | ~700ms  | ~50ms | **14x** вљЎ |
| **РџСЂРѕС„РёР»СЊ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ** | ~600ms  | ~40ms | **15x** вљЎ |
| **РЎРїРёСЃРѕРє РїРѕР»СЊР·РѕРІР°С‚РµР»РµР№** | ~300ms  | ~50ms | **6x** вљЎ  |

---

## рџ”„ Р§С‚Рѕ С‚РµРїРµСЂСЊ СЂР°Р±РѕС‚Р°РµС‚ Р°РІС‚РѕРјР°С‚РёС‡РµСЃРєРё:

1. **РљРµС€РёСЂРѕРІР°РЅРёРµ:**
   - Р”Р°РЅРЅС‹Рµ Р·Р°РіСЂСѓР¶Р°СЋС‚СЃСЏ РѕРґРёРЅ СЂР°Р·
   - РџСЂРё РїРѕРІС‚РѕСЂРЅРѕРј РѕС‚РєСЂС‹С‚РёРё РїРѕРєР°Р·С‹РІР°СЋС‚СЃСЏ РјРіРЅРѕРІРµРЅРЅРѕ
   - РћР±РЅРѕРІР»СЏСЋС‚СЃСЏ РІ С„РѕРЅРµ РµСЃР»Рё СѓСЃС‚Р°СЂРµР»Рё

2. **Realtime СЃРёРЅС…СЂРѕРЅРёР·Р°С†РёСЏ:**
   - РР·РјРµРЅРµРЅРёСЏ РІ Р‘Р” РѕС‚СЂР°Р¶Р°СЋС‚СЃСЏ Р°РІС‚РѕРјР°С‚РёС‡РµСЃРєРё
   - РќРµ РЅСѓР¶РЅРѕ РІСЂСѓС‡РЅСѓСЋ РѕР±РЅРѕРІР»СЏС‚СЊ СЃС‚СЂР°РЅРёС†Сѓ
   - Р Р°Р±РѕС‚Р°РµС‚ РЅР° РІСЃРµС… СѓСЃС‚СЂРѕР№СЃС‚РІР°С… РѕРґРЅРѕРІСЂРµРјРµРЅРЅРѕ

3. **Stale-While-Revalidate:**
   - РџРѕРєР°Р·С‹РІР°РµРј РєРµС€ РјРіРЅРѕРІРµРЅРЅРѕ
   - РћР±РЅРѕРІР»СЏРµРј РґР°РЅРЅС‹Рµ РІ С„РѕРЅРµ
   - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ РЅРµ РІРёРґРёС‚ Р·Р°РіСЂСѓР·РѕРє

---

## рџЋ‰ РС‚РѕРіРѕ

### Р”Рѕ РѕРїС‚РёРјРёР·Р°С†РёРё:

- вќЊ РљР°Р¶РґРѕРµ РѕС‚РєСЂС‹С‚РёРµ = РЅРѕРІС‹Р№ Р·Р°РїСЂРѕСЃ
- вќЊ Р”РѕР»РіРёРµ Р·Р°РіСЂСѓР·РєРё (500-1200ms)
- вќЊ Р СѓС‡РЅРѕРµ РѕР±РЅРѕРІР»РµРЅРёРµ РґР°РЅРЅС‹С…
- вќЊ РњРЅРѕРіРѕ РґСѓР±Р»РёСЂСѓСЋС‰РµРіРѕ РєРѕРґР°

### РџРѕСЃР»Рµ РѕРїС‚РёРјРёР·Р°С†РёРё:

- вњ… РњРіРЅРѕРІРµРЅРЅР°СЏ Р·Р°РіСЂСѓР·РєР° РёР· РєРµС€Р° (30-100ms)
- вњ… РђРІС‚РѕРѕР±РЅРѕРІР»РµРЅРёРµ РІ С„РѕРЅРµ
- вњ… Realtime СЃРёРЅС…СЂРѕРЅРёР·Р°С†РёСЏ
- вњ… Р•РґРёРЅС‹Р№ РїР°С‚С‚РµСЂРЅ С‡РµСЂРµР· useQueryWithCache
- вњ… РњРµРЅСЊС€Рµ РєРѕРґР°, РїСЂРѕС‰Рµ РїРѕРґРґРµСЂР¶РєР°

---

## рџ“љ Р”РѕРєСѓРјРµРЅС‚Р°С†РёСЏ

РџРѕР»РЅР°СЏ РґРѕРєСѓРјРµРЅС‚Р°С†РёСЏ РІ С„Р°Р№Р»Рµ: **PERFORMANCE_OPTIMIZATION_SUMMARY.md**

РўР°Рј РІС‹ РЅР°Р№РґРµС‚Рµ:

- Р”РµС‚Р°Р»СЊРЅРѕРµ РѕРїРёСЃР°РЅРёРµ РІСЃРµС… РёР·РјРµРЅРµРЅРёР№
- РџСЂРёРјРµСЂС‹ РєРѕРґР° РґРѕ/РїРѕСЃР»Рµ
- РџР°С‚С‚РµСЂРЅС‹ РѕРїС‚РёРјРёР·Р°С†РёРё
- РРЅСЃС‚СЂСѓРєС†РёРё РґР»СЏ РЅРѕРІС‹С… СЃС‚СЂР°РЅРёС†
- Р РµРєРѕРјРµРЅРґР°С†РёРё РїРѕ РґР°Р»СЊРЅРµР№С€РµРјСѓ СЂР°Р·РІРёС‚РёСЋ

---

**Р”Р°С‚Р°:** 16 РЅРѕСЏР±СЂСЏ 2025 Рі.  
**РђРІС‚РѕСЂ:** GitHub Copilot
