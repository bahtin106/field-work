# üî• –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Å–ø–∏–Ω–Ω–µ—Ä–∞

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

–î–æ–±–∞–≤–ª–µ–Ω—ã **–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã** –Ω–∞ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç—è—Ö –∑–∞–≥—Ä—É–∑–∫–∏:

- ‚úÖ 10 —Å–µ–∫—É–Ω–¥ - useQueryWithCache
- ‚úÖ 15 —Å–µ–∫—É–Ω–¥ - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Supabase
- ‚úÖ 8 —Å–µ–∫—É–Ω–¥ - getUserRole
- ‚úÖ 5 —Å–µ–∫—É–Ω–¥ - useAuth
- ‚úÖ 12 —Å–µ–∫—É–Ω–¥ - –≥–ª–æ–±–∞–ª—å–Ω—ã–π force ready

## üß™ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

1. **–ó–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ Expo Go
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–Ω–æ–≤–æ** —á–µ—Ä–µ–∑ Expo Go
3. **–û–∂–∏–¥–∞–π—Ç–µ –º–∞–∫—Å–∏–º—É–º 12 —Å–µ–∫—É–Ω–¥**

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å –∑–∞ 2-5 —Å–µ–∫—É–Ω–¥
- –ò–ª–∏ –ø–æ–∫–∞–∑–∞–ª–æ UI —á–µ—Ä–µ–∑ –º–∞–∫—Å–∏–º—É–º 12 —Å–µ–∫—É–Ω–¥
- –ù–∏–∫–∞–∫–æ–≥–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Å–ø–∏–Ω–Ω–µ—Ä–∞

### ‚ùå –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å:

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª–æ–≥–æ–≤:
  ```
  ‚è∞ useQueryWithCache timeout for ...
  ‚è∞ getUserRole timeout
  üö® FORCE READY TIMEOUT
  ```
- –≠—Ç–∏ –ª–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–¥–µ—Ä–∂–∫–∞

## üîç –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –†–∞–Ω—å—à–µ:

```javascript
// –ú–æ–≥ –∑–∞–≤–∏—Å–Ω—É—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞
const { data } = await supabase.from('users').select('*');
```

### –¢–µ–ø–µ—Ä—å:

```javascript
// –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–∞–π–º–∞—É—Ç 15 —Å–µ–∫—É–Ω–¥
const timeout = new Promise((_, reject) =>
  setTimeout(() => reject(new Error('Query timeout')), 15000),
);
const result = await Promise.race([queryFn(), timeout]);
```

## üìä –ó–∞—â–∏—Ç–∞ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

```
Level 1: _layout.js ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ 12s force ready
          ‚Üì
Level 2: orders/index.jsx ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ 8s getUserRole timeout
          ‚Üì
Level 3: useQueryWithCache ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ 10s isLoading timeout
          ‚Üì                       15s queryFn timeout
Level 4: useAuth ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ 5s getSession timeout
```

## üöÄ –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### –•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç (–Ω–µ—Ç –∫—ç—à–∞):

1. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–ø–∏–Ω–Ω–µ—Ä
2. –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è 2-5 —Å–µ–∫—É–Ω–¥
3. UI –ø–æ—è–≤–ª—è–µ—Ç—Å—è

### –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ (–µ—Å—Ç—å –∫—ç—à):

1. UI –ø–æ—è–≤–ª—è–µ—Ç—Å—è **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ** —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
2. –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ñ–æ–Ω–µ
3. –ù–∏–∫–∞–∫–æ–≥–æ —Å–ø–∏–Ω–Ω–µ—Ä–∞ –µ—Å–ª–∏ –∫—ç—à –≤–∞–ª–∏–¥–µ–Ω

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é:

1. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫—ç—à (–µ—Å–ª–∏ –µ—Å—Ç—å)
2. –ß–µ—Ä–µ–∑ 10-15 —Å–µ–∫—É–Ω–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è UI —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
3. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç** –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–∞–π–º–∞—É—Ç–∞–º

## üí° –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ï—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:

- `‚è∞ timeout` - —Å—Ä–∞–±–æ—Ç–∞–ª–∞ –∑–∞—â–∏—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç—å
- `üö® FORCE READY` - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ 12s
- `‚úÖ State updated` - –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `components/hooks/useQueryWithCache.js`
2. `components/hooks/useAuth.js`
3. `components/hooks/useUsers.js`
4. `components/hooks/useDepartments.js`
5. `app/users/index.jsx`
6. `app/orders/index.jsx`

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ **–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫—É UI** –ø—Ä–∏ –ª—é–±—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö.
