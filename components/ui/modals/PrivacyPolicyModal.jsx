import React from 'react';
import { ScrollView, Text } from 'react-native';
import { useSafeAreaInsets } from 'react-native-safe-area-context';
import { useTheme } from '../../../theme';
import BaseModal from './BaseModal';

// Текст политики — вставлен вручную, загрузка из файла невозможна в React Native
const policyText = `
Политика конфиденциальности

Дата публикации: 19.11.2025

Настоящая Политика конфиденциальности определяет порядок обработки и защиты персональных данных пользователей приложения «Field Work» (далее — Приложение) в соответствии с требованиями законодательства Российской Федерации (ФЗ-152), GDPR (ЕС), CCPA (США) и других применимых норм.

1. Оператор персональных данных
Оператором персональных данных является владелец приложения «Field Work» (далее — Оператор).

2. Персональные данные, которые мы собираем
- Фамилия, имя, отчество (ФИО)
- Электронная почта (email)
- Номер телефона
- Дата рождения
- Аватар (фотография)
- Геолокация (в будущем)

3. Цели обработки данных
- Регистрация и идентификация пользователя
- Предоставление доступа к функционалу приложения
- Связь с пользователем (уведомления, поддержка)
- Улучшение качества сервиса и аналитика
- Соблюдение требований законодательства

4. Хранение и обработка данных
- Все персональные данные хранятся и обрабатываются исключительно на территории Российской Федерации, на серверах Яндекс.Облака (Yandex Cloud).
- Данные не передаются третьим лицам, за исключением случаев, предусмотренных законом.
- В будущем для аналитики и уведомлений могут использоваться сторонние сервисы (например, Яндекс.Метрика, Sentry, OneSignal и др.), о чём пользователь будет дополнительно уведомлён.

5. Права пользователя
- Получать информацию о своих данных и их обработке
- Требовать исправления или удаления своих данных
- Отозвать согласие на обработку данных (по запросу через службу поддержки)

6. Безопасность
- Оператор принимает все необходимые организационные и технические меры для защиты персональных данных от несанкционированного доступа, изменения, раскрытия или уничтожения.

7. Контакты
По вопросам обработки персональных данных и реализации своих прав пользователь может обратиться по адресу: [указать email или форму обратной связи]

8. Изменения политики
Оператор вправе вносить изменения в настоящую Политику. Актуальная версия всегда доступна в приложении.
`;

export default function PrivacyPolicyModal({ visible, onClose }) {
  const { theme } = useTheme();
  const insets = useSafeAreaInsets();
  return (
    <BaseModal
      visible={visible}
      onClose={onClose}
      title="Политика конфиденциальности"
      maxHeightRatio={0.85}
      showHandle
    >
      <ScrollView
        style={{ maxHeight: 400, marginBottom: insets.bottom }}
        contentContainerStyle={{ paddingVertical: theme.spacing.md }}
        showsVerticalScrollIndicator={true}
      >
        <Text
          style={{ color: theme.colors.text, fontSize: theme.typography.sizes.md, lineHeight: 22 }}
        >
          {policyText}
        </Text>
      </ScrollView>
    </BaseModal>
  );
}
