# ‚ö° –ö–†–ê–¢–ö–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏–Ω–µ—Ä–∞

## üî¥ –ë—ã–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞ —Å–ø–∏–Ω–µ—Ä–µ "–ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å" –Ω–∞ 10-15+ —Å–µ–∫—É–Ω–¥ –∏–ª–∏ –≤–æ–æ–±—â–µ –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç.

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. **SimpleAuthProvider.jsx** ‚Äî –î–æ–±–∞–≤–ª–µ–Ω —Ç–∞–π–º–∞—É—Ç (5 —Å–µ–∫)

–ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –∫ –ë–î –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –∑–∞ 5 —Å–µ–∫—É–Ω–¥, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback –ø—Ä–æ—Ñ–∏–ª—å –∏–∑ metadata.

```javascript
// –†–∞–Ω—å—à–µ: await tryFetchProfile() // –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–Ω—É—Ç—å –Ω–∞ 30+ —Å–µ–∫
// –¢–µ–ø–µ—Ä—å: await Promise.race([tryFetchProfile(), timeoutPromise(5000)]) // –º–∞–∫—Å–∏–º—É–º 5 —Å–µ–∫
```

### 2. **SimpleAuthProvider.jsx** ‚Äî –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –ø–µ—Ä–µ–ø–æ–¥–≥—Ä—É–∑–∫–∞ (–º–∞–∫—Å 3 –ø–æ–ø—ã—Ç–∫–∏)

```javascript
// –†–∞–Ω—å—à–µ: –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –ø–æ–ø—ã—Ç–æ–∫
// –¢–µ–ø–µ—Ä—å: const MAX_RETRY_ATTEMPTS = 3; // –∑–∞—Ç–µ–º —Å–¥–∞–µ–º—Å—è
```

### 3. **orders/index.jsx** ‚Äî –°–Ω–∏–∂–µ–Ω MAX_BOOT_MS

```javascript
// –†–∞–Ω—å—à–µ: const MAX_BOOT_MS = 15000; // 15 —Å–µ–∫
// –¢–µ–ø–µ—Ä—å: const MAX_BOOT_MS = 6000; // 6 —Å–µ–∫
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–¢–µ–ø–µ—Ä—å –≤–∏–¥–Ω—ã –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:
```
[SimpleAuth] Profile loaded from supabase: { ... }
// –∏–ª–∏
[SimpleAuth] loadProfile timeout (5s) - using fallback
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

| –°—Ü–µ–Ω–∞—Ä–∏–π | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|----------|------|-------|
| **–ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–µ—Ç—å** | 3-8 —Å–µ–∫ | 0.5-3.5 —Å–µ–∫ ‚úÖ |
| **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–µ—Ç—å** | 10-15+ —Å–µ–∫ | ~5 —Å–µ–∫ ‚úÖ |
| **–¢–∞–π–º–∞—É—Ç –ë–î** | –ó–∞–≤–∏—Å–∞–ª | ~5 —Å–µ–∫ ‚úÖ |
| **Offline** | –ó–∞–≤–∏—Å–∞–ª | 5-6 —Å–µ–∫ ‚úÖ |

---

## üß™ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

```bash
1. –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. –û—Ç–∫—Ä—ã—Ç—å –µ–≥–æ
3. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è

–û–∂–∏–¥–∞–µ–º–æ: –°–ø–∏–Ω–µ—Ä –Ω–∞ 1-5 —Å–µ–∫ (–º–∞–∫—Å–∏–º—É–º 6), –∑–∞—Ç–µ–º –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
```

---

## üìù –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã

1. **providers/SimpleAuthProvider.jsx**
   - `Promise.race()` –¥–ª—è —Ç–∞–π–º–∞—É—Ç–∞ (5 —Å–µ–∫) –≤ `loadProfile`
   - `MAX_RETRY_ATTEMPTS = 3` –≤ `scheduleProfileRetry`
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –Ω–∞—á–∞–ª–æ `loadProfile`, –≤ `handleAuthChange`, –∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

2. **app/orders/index.jsx**
   - –ò–∑–º–µ–Ω–µ–Ω `MAX_BOOT_MS` —Å 15000 –Ω–∞ 6000
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–ø–∏–Ω–µ—Ä–∞

---

‚úÖ **–ì–û–¢–û–í–û!** –°–ø–∏–Ω–µ—Ä –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–∞—Ç—å –Ω–∞ 10-15+ —Å–µ–∫—É–Ω–¥.
